/* ======================================================= */
/* 1. GUÍA DE ESTILOS: VARIABLES, RESET Y TIPOGRAFÍA */
/* ======================================================= */

:root {
    /* COLORES PRINCIPALES Y DE MARCA */
    --color-principal: #4CAF50;          /* Verde saludable (Marca) */
    --color-secundario: #A5D6A7;         /* Verde claro (Énfasis/Gráficos) */
    --color-cta: #43A047;                /* Verde intenso (Botones de Acción) */
    --color-error: #E53935;              /* Rojo (Eliminar) */
    --color-exito: #66BB6A;              /* Verde medio (Completado) */
    --color-fondo-app: #EFE7DC;          /* Beige claro */
    --color-texto-principal: #333333;    /* Negro grisáceo */
    --color-texto-secundario: #757575;   /* Gris medio */
    --color-borde: #E0E0E0;              /* Gris claro */
    --color-fondo-card: white;           /* Fondo de los contenedores de contenido */

    /* TIPOGRAFÍA */
    --font-principal: 'Arial', sans-serif;
}

/* RESETEO BÁSICO Y ACCESIBILIDAD */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-principal);
    line-height: 1.6;
    background-color: var(--color-fondo-app);
    color: var(--color-texto-principal);
    min-height: 100vh;
}

/* Foco de accesibilidad */
:focus-visible {
    outline: 3px solid color-mix(in oklab, var(--color-principal) 60%, white 40%);
    outline-offset: 2px;
}

/* ---- Contenedor genérico (para centrar contenido) ---- */
.container {
    width: min(1120px, 92%);
    margin-inline: auto;
}

.page-container {
    max-width: 1200px;
    margin: 40px auto;
    padding: 0 20px;
}

/* ---- Estilo modular para las TARJETAS ---- */
.card {
    background-color: var(--color-fondo-card);
    border-radius: 8px;
    padding: 20px;
    box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
    margin-bottom: 20px;
}
.card-soft {
    background: #F7F4EE;
    border: 1px solid var(--color-borde);
    border-radius: 8px;
    padding: clamp(16px, 4vw, 28px);
    box-shadow: 0 2px 5px rgba(0,0,0,.05);
}

/* ======================================================= */
/* 2. COMPONENTES: HEADER Y NAVEGACIÓN */
/* ======================================================= */

.main-header, .nt-header { /* Unificado: .main-header es la clase principal */
    background-color: var(--color-principal);
    height: 64px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 15px;
    color: white;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    gap: 20px;
}

.logo-text-header, .nt-header .brand {
    font-size: 25px;
    font-weight: 700;
    flex-shrink: 0;
    margin-right: 20px;
    color: white;
    text-decoration: none;
}

/* ---- Menú de Desktop ---- */
.main-nav-container {
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto;
    gap: 20px;
    flex-grow: 1;
}

.main-menu { list-style: none; display: flex; padding: 0; margin: 0; gap: 15px; }
.main-menu li a { color: white; text-decoration: none; padding: 0 10px; font-size: 0.9em; font-weight: 500; transition: opacity 0.2s; }
.main-menu li a:hover { opacity: 0.8; }
.main-menu li a.active { font-weight: bold; border-bottom: 2px solid var(--color-fondo-card); }

/* ---- Acciones y Búsqueda del Header ---- */
.header-actions { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
.search-bar { max-width: 250px; }
.search-input-header {
    width: min(280px, 38vw); /* Propiedad unificada para la búsqueda */
    padding: 8px 10px;
    border: 1px solid var(--color-borde);
    border-radius: 999px;
    background: #fff;
    color: var(--color-texto-principal);
    font-size: 0.9em;
}
.btn-header-logout {
    background-color: white;
    color: var(--color-principal);
    padding: 5px 10px;
    border-radius: 4px;
    font-size: 0.9em;
    font-weight: bold;
    transition: background-color 0.3s, color 0.3s;
}
.profile-icon { font-size: 1.5em; line-height: 1; cursor: pointer; border: 2px solid white; border-radius: 50%; padding: 2px; }
.avatar { /* Alias para .profile-icon */
    display: grid; place-items: center;
    width: 34px; height: 34px; border-radius: 50%;
    background: var(--color-fondo-card);
    color: #2E3B2F; text-decoration: none; font-weight: 700;
    border: 2px solid white;
}

/* ======================================================= */
/* 3. COMPONENTES: BOTONES Y FORMULARIOS */
/* ======================================================= */

/* ---- BOTONES GLOBALES (Base) ---- */
.btn, .btn--primary, .btn--ghost, .btn--danger {
    padding: 12px 20px;
    border: 1.5px solid transparent;
    border-radius: 4px;
    font-weight: bold;
    cursor: pointer;
    text-decoration: none;
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: .5rem;
    transition: background-color .2s ease, color .2s ease, transform .06s ease, box-shadow .18s ease;
}

/* Estados Hover/Focus (Unificado) */
.btn:hover { filter: brightness(1.1); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); }
.btn:hover, .btn:focus-visible { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(0,0,0,.08); outline: none; }

/* Primario (CTA) */
.btn-primary, .btn--primary { background-color: var(--color-cta); color: #fff; border-color: var(--color-cta); }
.btn-primary:hover, .btn--primary:hover { background-color: #388E3C; }

/* Ghost/Contorno */
.btn-ghost, .btn--ghost { background: transparent; color: var(--color-cta); border-color: var(--color-cta); border-width: 1.5px; }
.btn-ghost:hover, .btn--ghost:hover { background: rgba(67,160,71,.08); }

/* Peligro/Eliminar */
.btn-danger, .btn--danger, .btn-delete { background-color: var(--color-error); color: #fff; border-color: var(--color-error); padding: 5px 12px; font-size: 0.9em; }
.btn-danger:hover, .btn--danger:hover, .btn-delete:hover { background-color: #C62828; }

/* Editar/Reemplazar */
.btn-edit, .btn-reemplazar {
    background-color: transparent;
    color: var(--color-principal);
    border: 1px solid var(--color-principal);
    padding: 5px 12px;
    font-size: 0.9em;
    margin-right: 5px;
    text-align: center;
}
.btn-edit:hover, .btn-reemplazar:hover { background-color: var(--color-principal); color: white; }
.btn--lg { padding: 12px 18px; font-size: 1.05em; } /* Botón grande */

/* ---- INPUTS Y FORMULARIOS ---- */
input[type="text"], input[type="email"], input[type="password"], input[type="number"], input[type="date"], select, input[type="search"] {
    width: 100%;
    padding: 10px;
    margin-bottom: 15px;
    border: 1px solid var(--color-borde);
    border-radius: 4px;
    font-size: 1em;
}

input[type="text"]:focus, input[type="email"]:focus, input[type="password"]:focus, input[type="number"]:focus, input[type="date"]:focus, select:focus, input[type="search"]:focus {
    outline: none;
    border-color: color-mix(in oklab, var(--color-principal) 45%, white 55%);
    box-shadow: 0 0 0 3px color-mix(in oklab, var(--color-principal) 25%, white 75%);
}

.registro-form label { display: block; margin-bottom: 5px; font-weight: 500; }
.field { display: flex; flex-direction: column; gap: 6px; margin-bottom: 14px; } /* Alias .field */
.field > span { font-size: .95rem; color: var(--color-texto-principal); }
.form-group-inline { display: flex; gap: 15px; }

/* ======================================================= */
/* 4. COMPONENTES: MODALES Y DASHBOARD */
/* ======================================================= */

/* ---- MODALES (Ventanas Emergentes) ---- */
.modal-overlay, .modal { /* Unificado para usar ambos selectores */
    position: fixed; top: 0; left: 0; width: 100%; height: 100%;
    background-color: rgba(0, 0, 0, 0.5);
    display: flex; justify-content: center; align-items: center; z-index: 1000;
    display: none;
}
.modal-overlay:target, .modal:target { display: flex; display: block; }

.modal__overlay, .modal-close-target { /* Overlay para cerrar al hacer clic fuera */
    position: absolute; inset: 0; background: rgba(0,0,0,.35); display: block;
    width: 100%; height: 100%; z-index: 10;
}

.modal-content, .modal__content {
    background-color: white; padding: 30px; border-radius: 8px;
    max-width: 500px; width: 90%;
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    position: relative; z-index: 20;
    left: 50%; top: 50%;
    transform: translate(-50%, -50%);
}
.modal-large { max-width: 800px; }
.modal__actions { display: flex; justify-content: center; gap: 12px; margin-top: 14px; }
.modal__close { position: absolute; right: 10px; top: 8px; border: 0; background: transparent; font-size: 18px; cursor: pointer; color: #555; }
.modal__close:hover { color: #000; }

/* ---- DASHBOARD (Estructura de la página principal) ---- */
.dashboard { display: grid; gap: 18px; grid-template-columns: 1fr 360px; }
.cards-grid { display: grid; gap: 14px; grid-template-columns: repeat(3, minmax(0,1fr)); }
.dashboard__side { display: flex; flex-direction: column; gap: 14px; }
.h2 { font-size: 1.6rem; margin: 0 0 10px; color: var(--color-texto-principal); }

/* ======================================================= */
/* 5. ESTILOS POR MÓDULO (Registro, Reportes, Prácticas) */
/* ======================================================= */

.module-title { font-size: 1.8em; color: var(--color-texto-principal); margin-bottom: 20px; text-align: center; margin-top: 20px; }
.p_subtle { color: var(--color-texto-secundario); font-size: 0.95em; margin-bottom: 20px; }

/* ---- Registro Diario (Layout y Tablas) ---- */
.registro-layout { display: grid; grid-template-columns: 1fr 1.5fr; gap: 20px; }
.data-table { width: 100%; border-collapse: collapse; }
.data-table th, .data-table td { padding: 10px; border-bottom: 1px solid var(--color-borde); text-align: left; }
.data-table th { background-color: #F4F4F4; font-weight: 600; }
.data-table tbody tr:hover { background-color: #F8F8F8; cursor: pointer; }
.data-table .actions { white-space: nowrap; } /* Evita que los botones se rompan */
.resumen-item { display: flex; justify-content: space-between; padding: 5px 0; border-bottom: 1px dashed var(--color-borde); font-size: 0.95em; }

/* ---- Prácticas Saludables (Listas y Selección) ---- */
.practices-selection-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin-bottom: 20px; }
.radio-option { border: 1px solid var(--color-borde); padding: 15px; border-radius: 4px; margin-bottom: 10px; cursor: pointer; }
.radio-option:hover { background-color: #F8F8F8; }
.radio-option input:checked + label { border-left: 5px solid var(--color-principal); padding-left: 10px; }

/* ---- ESTILOS ADICIONALES PARA LAS OPCIONES INTERACTIVAS EN MODALES (Hover/Focus) ---- */

/* Estilos de selección de prácticas (Añadir) */
.card-selection {
    transition: transform 0.15s ease, box-shadow 0.15s ease;
    cursor: pointer;
}
.card-selection:hover,
.card-selection:focus-within { /* focus-within para capturar el foco del input */
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
    border: 1px solid var(--color-principal); /* Destaca la opción */
}

/* Estilos de selección de reemplazo (Radio Options) */
.radio-option {
    /* (Ya tiene estilos base) */
    transition: background-color 0.2s, border-color 0.2s;
    cursor: pointer;
}
.radio-option:hover {
    background-color: #F8F8F8; /* Sutil cambio de color al pasar el ratón */
}
/* Estilo cuando el radio está seleccionado (mantenemos el borde izquierdo de tu CSS original) */
.radio-option input:checked + label {
    border-left: 5px solid var(--color-principal);
    padding-left: 10px;
}

.practicas-header { background-color: #EDE7F6; color: var(--color-texto-principal); border-radius: 8px 8px 0 0; padding: 15px 20px; font-weight: bold; }
.practicas-list .list-item { display: flex; justify-content: space-between; align-items: center; padding: 15px 20px; border: 1px solid var(--color-borde); margin-bottom: -1px; background-color: var(--color-fondo-card); }
.practicas-list .list-item-actions { display: flex; gap: 10px; }

/* ---- Página de Reportes ---- */
.report-header { display: flex; align-items: center; justify-content: center; gap: 10px; margin-bottom: 20px; }
.time-filter { display: flex; justify-content: center; gap: 0; margin-bottom: 30px; }
.time-filter .btn { border-radius: 0; }
.time-filter .btn:first-child { border-top-left-radius: 4px; border-bottom-left-radius: 4px; }
.time-filter .btn:last-child { border-top-right-radius: 4px; border-bottom-right-radius: 4px; }

.reports-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
.chart-placeholder { width: 100%; min-height: 300px; display: grid; place-items: center; background-color: #fcfcfc; border-radius: 4px; margin-top: 15px; }

/* Insignias de Estado (Píldoras) */
.status-badge { display: inline-block; padding: 5px 12px; border-radius: 999px; font-size: 0.85em; font-weight: bold; text-align: center; }
.status-badge.status-success { background-color: #E8F5E9; color: var(--color-cta); }
.status-badge.status-warning { background-color: #FFF3E0; color: #F57C00; }
.status-badge.status-danger { background-color: #FFEBEE; color: var(--color-error); }

/* ======================================================= */
/* 6. PIE DE PÁGINA Y LANDING PAGE */
/* ======================================================= */

.nt-footer { background: #F6F3EE; border-top: 1px solid var(--color-borde); color: var(--color-texto-secundario); }
.nt-footer .footer__inner, .footer__inner { display: flex; align-items: center; justify-content: space-between; padding: 14px 0; }
.hero { display: grid; place-items: center; min-height: calc(100vh - 120px); padding-block: clamp(48px, 12vh, 120px); text-align: center; }
.hero__title { margin: 0 0 12px; font-weight: 700; font-size: clamp(2rem, 5vw, 3rem); color: #2E3B2F; }
.hero__cta { display: flex; gap: 14px; justify-content: center; flex-wrap: wrap; }

/* ======================================================= */
/* 7. DISEÑO RESPONSIVE Y NAVEGACIÓN MÓVIL (SOLUCIÓN FINAL) */
/* ======================================================= */

/* OCULTAR LA BARRA INFERIOR POR DEFECTO (DESKTOP) */
.mobile-nav-bar, .mobile-nav { display: none; }

/* Tablet (900px o menos) */
@media (max-width: 900px) {
    /* Ocultar menú de navegación de desktop */
    .main-nav-container, .main-menu { display: none; }
    /* Ajustar layout de registro */
    .registro-layout { grid-template-columns: 1fr; }
    .comidas-registradas-column { grid-row: auto; }
}

/* Teléfono Móvil (600px o menos) */
@media (max-width: 600px) {
    /* FIX CRÍTICO: OCULTAR EL HEADER DE DESKTOP COMPLETO */
    .main-header { display: none !important; }

    /* Mostrar la barra de navegación inferior */
    .mobile-nav-bar, .mobile-nav {
        position: fixed; bottom: 0; left: 0; width: 100%;
        background-color: white; border-top: 1px solid var(--color-borde);
        box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1); z-index: 900;
        padding: 5px 0; display: flex; justify-content: space-around;
        align-items: center; height: 60px;
    }

    /* Añadir padding al body para que el nav no tape el contenido */
    body { padding-bottom: 60px; }

    /* Estilos de los Enlaces en la Barra Inferior */
    .mobile-nav-bar a.mobile-nav-link, .mobile-nav-link {
        display: flex; flex-direction: column; align-items: center;
        justify-content: center; height: 100%; flex: 1;
        text-decoration: none; color: var(--color-texto-secundario);
        font-size: 0.75em; gap: 2px; transition: color 0.2s;
    }
    .mobile-nav-bar .mobile-nav-icon, .mobile-nav-icon { font-size: 1.6em; line-height: 1; }
    .mobile-nav-bar .mobile-nav-link.active, .mobile-nav-link.active { color: var(--color-principal); font-weight: bold; }

    /* Reducción de fuentes y layout */
    .logo-text-header { font-size: 20px; }
    .module-title { font-size: 1.5em; }

    /* Apilamiento de inputs en línea */
    .form-group-inline { flex-direction: column; gap: 0; }

    /* Botones de tabla en formato bloque para móvil */
    .data-table .actions a { display: block; width: 100%; margin-bottom: 5px; }

    /* Apilamiento de gráficos en reportes */
    .reports-grid { grid-template-columns: 1fr; }
}

/* Teléfono Móvil (Ajustes finos para pantallas pequeñas) */
@media (max-width: 480px) {
    /* Ajustes adicionales de padding en móvil */
    .page-container { margin-top: 20px; padding: 0 10px; }
}

/* =======================================================
   8) UI POLISH – Gestión de cuenta y perfil (solo ADICIONES)
   Hace que login / signup / registration-success / account-settings
   luzcan como framework (cards limpias, inputs uniformes, modales)
   ======================================================= */

/* ---------- contenedores y espaciados ---------- */
.section { padding-block: clamp(40px, 8vh, 72px); }
.form-wrap { display: grid; place-items: center; }
.form        { width: min(760px, 100%); }
.form--narrow{ width: min(420px, 100%); }

.card-soft {
  background: #ffffff;
  border: 1px solid var(--color-borde);
  border-radius: 12px;
  padding: clamp(20px, 3.4vw, 28px);
  box-shadow: 0 8px 30px rgba(0,0,0,.06);
}

/* ---------- títulos ---------- */
.form__title {
  margin: 0 0 18px;
  font-weight: 800;
  text-align: center;
  color: #2E3B2F;
  letter-spacing: .2px;
  font-size: clamp(22px, 2.6vw, 28px);
}
.form__title + .p_subtle { text-align:center; margin-top:-8px; }

/* ---------- grid para account-settings ---------- */
.grid-2 {
  display: grid;
  grid-template-columns: repeat(2, minmax(0, 1fr));
  gap: 14px 16px;
}
.grid-span-2 { grid-column: 1 / -1; }
@media (max-width: 760px){
  .grid-2 { grid-template-columns: 1fr; }
  .grid-span-2 { grid-column: auto; }
}

/* ---------- campos de formulario ---------- */
.field { display:flex; flex-direction:column; gap: 6px; }
.field > span {
  font-size: .95rem;
  color: var(--color-texto-principal);
  font-weight: 600;
}

input[type="text"],
input[type="email"],
input[type="password"],
input[type="number"],
input[type="date"],
select {
  height: 44px;
  padding: 10px 12px;
  border-radius: 10px;
  background: #fff;
  border: 1px solid #E6E3DD;           /* más suave */
  transition: border-color .15s ease, box-shadow .15s ease;
}
textarea {
  padding: 12px;
  border-radius: 10px;
  border: 1px solid #E6E3DD;
  min-height: 110px;
}

input::placeholder { color:#9AA1A6; }

input:focus,
select:focus,
textarea:focus {
  outline: none;
  border-color: color-mix(in oklab, var(--color-principal) 52%, white 48%);
  box-shadow: 0 0 0 4px color-mix(in oklab, var(--color-principal) 18%, white 82%);
}

/* estados de error/éxito listos por si los usas */
.is-invalid { border-color: var(--color-error) !important; }
.is-valid   { border-color: var(--color-exito) !important; }

/* ---------- botones ---------- */
.btn {
  border-radius: 10px;
  font-weight: 700;
  letter-spacing: .2px;
  min-height: 42px;
}
.btn-primary,
.btn--primary {
  background: var(--color-cta);
  border-color: var(--color-cta);
}
.btn-primary:hover,
.btn--primary:hover { background:#3A8D3F; }

.btn-ghost,
.btn--ghost {
  border-color: #D2CEC6;
  color: #2E3B2F;
}
.btn-ghost:hover { background:#F2EFE9; }

.btn-danger,
.btn--danger,
.btn-delete {
  border-color: var(--color-error);
  background: var(--color-error);
}
.btn-danger:hover { background:#C12D2A; }

/* botones full-width en formularios estrechos (login / signup) */
.form--narrow .btn,
.form--narrow .form__actions .btn { width: 100%; }

/* acciones del formulario (alineadas a la derecha en desktop) */
.form__actions {
  display:flex; gap:12px; flex-wrap:wrap; justify-content:flex-end;
  margin-top: 8px;
}
@media (max-width:600px){
  .form__actions { justify-content:stretch; }
  .form__actions .btn { flex: 1 1 auto; }
}

/* ---------- header limpio tipo framework ---------- */
.nt-header .brand,
.logo-text-header { color:#fff; text-decoration:none; }
.nt-header .brand:hover,
.logo-text-header:hover { opacity:.92; }

/* ---------- success page centrada ---------- */
.success__wrap {
  display:grid; place-items:center;
  min-height: calc(100vh - 64px - 64px);
}
.success__card {
  text-align:center; max-width:720px;
  border: 1px solid var(--color-borde);
  border-radius: 12px; padding: 28px;
  background:#fff; box-shadow: 0 10px 30px rgba(0,0,0,.06);
}

/* ---------- modal pulido ---------- */
dialog::backdrop { background: rgba(0,0,0,.32); }
.modal__content {
  width: min(520px, 92%);
  border-radius: 12px;
  padding: 24px;
  text-align: center;
}
.modal__icon { font-size: 40px; margin-bottom: 6px; }
.modal__actions { display:flex; gap:12px; justify-content:center; }
.modal__close {
  border:none; background:transparent; cursor:pointer;
  font-size: 18px; color:#666;
}
.modal__close:hover { color:#000; }

/* ---------- tablas más “pro” (si aparecen en estas pantallas) ---------- */
.data-table {
  width: 100%; border-collapse: collapse; border-radius: 10px; overflow:hidden;
}
.data-table th {
  background:#F7F4EE; font-weight:700; color:#425045;
}
.data-table td, .data-table th { padding: 12px 14px; border-bottom:1px solid #EEE9E1; }
.data-table tbody tr:hover { background:#FAF8F4; }

/* ---------- footer fino ---------- */
.nt-footer {
  background:#F6F3EE; border-top:1px solid #E6E3DD;
}
.footer__inner { padding: 16px 0; }
.nt-footer .social a { color:#808a80; text-decoration:none; padding:4px 6px; border-radius:6px; }
.nt-footer .social a:hover { background:#EEE7DD; color:#2E3B2F; }

/* ---------- helpers ---------- */
.text-center{ text-align:center; }
.mt-0{ margin-top:0; } .mt-8{ margin-top:8px; } .mt-16{ margin-top:16px; }
.mb-0{ margin-bottom:0; } .mb-8{ margin-bottom:8px; } .mb-16{ margin-bottom:16px; }
.w-full{ width:100%; }
