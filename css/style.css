/* ======================================================= */
/* 1. GUÍA DE ESTILOS: VARIABLES, RESET Y TIPOGRAFÍA */
/* ======================================================= */

:root {
    --color-principal: #4CAF50;         /* Verde saludable (Marca) */
    --color-secundario: #A5D6A7;       /* Verde claro (Énfasis/Gráficos) */
    --color-cta: #43A047;              /* Verde intenso (Botones de Acción) */
    --color-error: #E53935;            /* Rojo (Eliminar) */
    --color-exito: #66BB6A;            /* Verde medio (Completado) */
    --color-fondo-app: #EFE7DC;         /* Beige claro */
    --color-texto-principal: #333333;   /* Negro grisáceo */
    --color-texto-secundario: #757575;  /* Gris medio */
    --color-borde: #E0E0E0;            /* Gris claro */
    --color-fondo-card: white;          /* Fondo de los contenedores de contenido */
    --font-principal: 'Arial', sans-serif;
}

/* RESETEO BÁSICO */
* {
    box-sizing: border-box;
    margin: 0;
    padding: 0;
}

body {
    font-family: var(--font-principal);
    line-height: 1.6;
    background-color: var(--color-fondo-app);
    color: var(--color-texto-principal);
    min-height: 100vh;
}

/* ======================================================= */
/* 2. COMPONENTES REUTILIZABLES (Header, Botones, Inputs, Modales) */
/* ======================================================= */

.page-container { max-width: 1200px; margin: 40px auto; padding: 0 20px; }
.card { background-color: var(--color-fondo-card); border-radius: 8px; padding: 20px; box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05); margin-bottom: 20px; }

/* -- HEADER (Barra Superior) -- */
.main-header, .nt-header { background-color: var(--color-principal); height: 64px; display: flex; justify-content: space-between; align-items: center; padding: 0 15px; color: white; box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1); gap: 20px; }
.logo-text-header, .nt-header .brand { font-size: 25px; font-weight: 700; flex-shrink: 0; margin-right: 20px; color: white; text-decoration: none; }
.main-nav-container { display: flex; align-items: center; justify-content: center; margin: 0 auto; gap: 20px; flex-grow: 1; }
.main-menu { list-style: none; display: flex; padding: 0; margin: 0; gap: 15px; }
.main-menu li a { color: white; text-decoration: none; padding: 0 10px; font-size: 0.9em; font-weight: 500; transition: opacity 0.2s; }
.main-menu li a.active { font-weight: bold; border-bottom: 2px solid var(--color-fondo-card); }
.header-actions { display: flex; align-items: center; gap: 10px; flex-shrink: 0; }
.search-input-header { padding: 5px 10px; border: none; border-radius: 4px; font-size: 0.9em; width: 200px; color: var(--color-texto-principal); }
.btn-header-logout { background-color: white; color: var(--color-principal); padding: 5px 10px; border-radius: 4px; font-size: 0.9em; font-weight: bold; transition: background-color 0.3s, color 0.3s; }
.profile-icon { font-size: 1.5em; line-height: 1; cursor: pointer; border: 2px solid white; border-radius: 50%; padding: 2px; }

/* -- BOTONES GLOBALES -- */
.btn, .btn--primary, .btn--ghost, .btn--danger { padding: 12px 20px; border-radius: 4px; font-weight: bold; cursor: pointer; text-decoration: none; display: inline-flex; align-items: center; justify-content: center; gap: .5rem; transition: background-color .2s ease, color .2s ease, transform .06s ease, box-shadow .18s ease; }
.btn:hover { filter: brightness(1.1); box-shadow: 0 2px 5px rgba(0, 0, 0, 0.2); }
.btn-primary, .btn--primary { background-color: var(--color-cta); color: #fff; border-color: var(--color-cta); }
.btn-danger, .btn--danger, .btn-delete { background-color: var(--color-error); color: #fff; text-align: center; padding: 5px 12px; font-size: 0.9em; border-color: var(--color-error); } 
.btn-edit { background-color: transparent; color: var(--color-principal); border: 1px solid var(--color-principal); padding: 5px 12px; font-size: 0.9em; margin-right: 5px; text-align: center } 

/* -- MODALES -- */
.modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); display: flex; justify-content: center; align-items: center; z-index: 1000; display: none; }
.modal-overlay:target { display: flex; }
.modal-close-target { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 10; display: block; }
.modal-content { background-color: white; padding: 30px; border-radius: 8px; max-width: 500px; width: 90%; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); position: relative; z-index: 20; }
.p_subtle { color: var(--color-texto-secundario); font-size: 0.95em; margin-bottom: 20px; }
.modal-large { max-width: 800px; }

/* ======================================================= */
/* 3. ESTILOS POR MÓDULO: DASHBOARD */
/* ======================================================= */

.module-title { font-size: 1.8em; color: var(--color-texto-principal); margin-bottom: 20px; text-align: center; margin-top: 20px; }

/* -- LAYOUT PRINCIPAL DEL DASHBOARD -- */
.dashboard-layout {
    display: grid;
    grid-template-columns: 1fr 300px; 
    gap: 30px; 
    /* FIX CRÍTICO: Asegura que la cuadrícula se alinee a la izquierda (inicio) */
    align-items: start; 
}
.dashboard-section-title {
    font-size: 1.5em;
    margin-bottom: 15px;
    color: var(--color-texto-principal);
}

/* GRID DE ACCESO RÁPIDO */
.cards-grid {
    display: grid;
    grid-template-columns: repeat(3, 1fr); /* 3 columnas para desktop */
    gap: 15px;
}
.card--link {
    text-align: center;
    padding: 25px 15px;
    height: 100%; 
    display: flex; 
    flex-direction: column;
    align-items: center; 
    justify-content: flex-start;
    text-decoration: none;
    color: var(--color-texto-principal);
    transition: transform .15s ease, box-shadow .15s ease;
}
.card--link:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
}
.card__icon {
    font-size: 2.2em;
    color: var(--color-principal); 
    margin-bottom: 10px;
}
.card-subtitle {
    color: var(--color-texto-secundario);
    font-size: 0.85em;
}

/* -- BARRA LATERAL (Progreso de Metas y Prácticas) -- */
.dashboard-progress-card h3, .dashboard-practices-card h3 {
    font-size: 1.1em;
    border-bottom: 1px solid var(--color-borde);
    padding-bottom: 8px;
    margin-bottom: 12px;
}
.progress { margin-bottom: 15px; }
.progress__bar { height: 8px; background: #E0E0E0; border-radius: 4px; overflow: hidden; }
.progress__bar span { display: block; height: 100%; background: var(--color-principal); }
.recent-practices-list { list-style: none; padding: 0; }
.recent-practices-list li { padding: 8px 0; border-bottom: 1px solid #F4F4F4; font-size: 0.9em; }


/* ------------------------------------------------------- */
/* FIX: FOOTER DE BAJA FIDELIDAD (Explorar | Compañía | Legal) */
/* ------------------------------------------------------- */
.nt-footer { 
    /* Coloca el footer debajo de todo el contenido */
    margin-top: 40px; 
    padding: 15px 0;
    background-color: var(--color-fondo-app);
    border-top: 1px solid var(--color-borde);
}
.footer__inner {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    color: var(--color-texto-secundario);
}


/* ======================================================= */
/* 4. DISEÑO RESPONSIVE (SOLUCIÓN TOTAL) */
/* ======================================================= */

/* OCULTAR LA BARRA INFERIOR POR DEFECTO (DESKTOP) */
.mobile-nav-bar { display: none; }

@media (max-width: 1024px) {
    .dashboard-layout {
        /* Tablet: Apila la barra lateral debajo del contenido principal */
        grid-template-columns: 1fr;
    }
    .dashboard-sidebar {
        order: -1; /* Mueve la barra lateral arriba en tablet/móvil */
    }
}
@media (max-width: 900px) {
    .main-nav-container { display: none; }
    .cards-grid { grid-template-columns: repeat(2, 1fr); }
}

@media (max-width: 600px) {
    /* FIX: Ocultar Header de Desktop y Mostrar Barra Inferior */
    .main-header { display: none !important; }
    body { padding-bottom: 60px; }
    .mobile-nav-bar {
        position: fixed; bottom: 0; left: 0; width: 100%; background-color: white; 
        border-top: 1px solid var(--color-borde); box-shadow: 0 -2px 5px rgba(0, 0, 0, 0.1);
        z-index: 900; padding: 5px 0; display: flex; justify-content: space-around; align-items: center;
    }
    .mobile-nav-bar a.mobile-nav-link { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; flex: 1; text-decoration: none; color: var(--color-texto-secundario); font-size: 0.75em; gap: 2px; }
    
    /* Responsive Dashboard */
    .cards-grid { grid-template-columns: 1fr; }
    .dashboard-sidebar { margin-top: 20px; }
    .nt-footer { display: none; /* Ocultamos el footer de desktop en móvil */ }
}