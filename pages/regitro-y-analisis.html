<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Reportes y AnÃ¡lisis - NutriTrackWeb</title>
  <link rel="stylesheet" href="../css/style.css" />
</head>
<body>
  <script src="../js/header-loader.js"></script>

  <main class="page-container">
    <div class="report-header">
      <h1 class="module-title">Reportes y AnÃ¡lisis ğŸ“ˆ</h1>
    </div>

    <!-- ğŸ”˜ Filtros de tiempo -->
    <div class="time-filter">
      <button class="btn btn-ghost">Semanal</button>
      <button class="btn btn-primary">Mensual</button>
      <button class="btn btn-ghost">Anual</button>
    </div>

    <div class="reports-grid">
      <!-- ğŸ½ï¸ GrÃ¡fico circular dinÃ¡mico -->
      <div class="card">
        <h3>Consumo por Tipo de Alimento</h3>
        <p class="p_subtle">Desglose de tus hÃ¡bitos alimenticios por periodo seleccionado.</p>
        <div class="chart-placeholder">
          <svg viewBox="0 0 400 300" class="grafico-circular"></svg>
        </div>
      </div>

      <!-- ğŸŒ± GrÃ¡fico de prÃ¡cticas saludables -->
      <div class="card">
        <h3>Tendencias de PrÃ¡cticas Saludables</h3>
        <p class="p_subtle">Tu progreso en hÃ¡bitos saludables por mensual.</p>
        <!-- ğŸ”˜ Filtros de tiempo para prÃ¡cticas saludables -->
        <div class="time-filter-practicas">
          <button class="btn btn-ghost">Semanal</button>
          <button class="btn btn-primary">Mensual</button>
          <button class="btn btn-ghost">Anual</button>
        </div>
        <div class="chart-placeholder">
          <canvas id="grafico-practicas-reportes" width="400" height="250"></canvas>
        </div>
      </div>

    <!-- ğŸ¯ Tabla comparativa de metas -->
    <div class="card">
      <h3>ComparaciÃ³n de Metas</h3>
      <p class="p_subtle">Tu progreso actual frente a tus metas por mensual.</p>
      <div class="table-responsive">
        <table class="data-table metas-table">
          <thead>
            <tr>
              <th>Meta</th>
              <th>Objetivo</th>
              <th>Actual</th>
              <th>Estado</th>
            </tr>
          </thead>
          <tbody id="tabla-metas-dinamica">
          </tbody>
        </table>
      </div>
    </div>

    <!-- ğŸ“„ BotÃ³n de descarga -->
    <div class="download-cta">
      <button id="btn-descargar-pdf" class="btn btn-primary btn--lg">ğŸ“„ Descargar Reporte PDF</button>
    </div>
  </main>

  <!-- ğŸ“± NavegaciÃ³n inferior -->
  <nav class="mobile-nav-bar">
    <a href="dashboard.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">ğŸ </span>
      <span class="mobile-nav-text">Inicio</span>
    </a>
    <a href="registro_alimentos.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">â•</span>
      <span class="mobile-nav-text">Registro</span>
    </a>
    <a href="nutritional-goals.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">â¤ï¸</span>
      <span class="mobile-nav-text">Metas</span>
    </a>
    <a href="practicas_saludables.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">ğŸŒ±</span>
      <span class="mobile-nav-text">PrÃ¡cticas</span>
    </a>
    <a href="regitro-y-analisis.html" class="mobile-nav-link active">
      <span class="mobile-nav-icon">ğŸ“Š</span>
      <span class="mobile-nav-text">Reportes</span>
    </a>
    <a href="aprender-vida-saludable.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">ğŸ“š</span>
      <span class="mobile-nav-text">Aprender</span>
    </a>
    <a href="foro-comunidad.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">ğŸ“«</span>
      <span class="mobile-nav-text">Foro</span>
    </a>
    <a href="account-settings.html" class="mobile-nav-link">
      <span class="mobile-nav-icon">ğŸ‘¤</span>
      <span class="mobile-nav-text">Perfil</span>
    </a>
  </nav>

  <script src="../js/search.js"></script>

  <!-- ğŸ”„ Footer dinÃ¡mico -->
  <script>
    fetch('../components/footer.html')
      .then(res => res.text())
      .then(html => {
        document.body.insertAdjacentHTML('beforeend', html);
      });
  </script>

  <!-- ğŸ“Š Script de reportes -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
  <script src="../js/reportes.js"></script>
</body>
</html>